\chapter{域}\label{field}
我们在本章及下一章讨论域这种更强的代数结构.

\section{域扩张}

\begin{defn}
    设$K,L$是域, 满足$K\subset L$, 那么称$L$是$K$的一个\textbf{扩域}, 并记为$L/K$.
\end{defn}

我们首先引进两个记号
\begin{sym}
    设有域扩张$L/K$, $S\subset L$, 那么记$K(S)$为包含$S$的最小的域 (即所有包含$S$的域的交).
    如果$S=\{a_1,\cdots,a_n\}$, 也记$K(S)=K(a_1,\cdots,a_n)$.
\end{sym}

对$L/K$, $L$自然构成了一个$K$--向量空间, 所以我们可以定义
\begin{defn}
    定义域扩张$L/K$的\textbf{度数}为$[L:K]:=\dim_K{L}\in\mathbb{N}\cup\{\infty\}$.
\end{defn}

我们定义几类扩张如下
\begin{defn}
    给定域扩张$L/K$.
    \begin{enumerate}[(1)]
        \item 如果$[L:K]<\infty$, 那么称$L/K$是\textbf{有限扩张}.
        \item 设$a\in L$, 如果$\alpha$是$K[x]$中某个多项式的根, 那么称$\alpha$是$K$上的\textbf{代数元}, 否则称为\textbf{超越元}.
        如果$\alpha$是代数元, 所有满足$f(\alpha)=0$的多项式中次数最低的称为$\alpha$的\textbf{极小多项式}.
        \item 如果$L$中任意一个元素都是代数元, 那么称$L/K$是\textbf{代数扩张}, 否则称为\textbf{超越扩张}.
    \end{enumerate}
\end{defn}

考虑由单个代数元$\alpha$生成的扩域, 我们有如下的引理
\begin{lem}
    设$L/K$, $\alpha\in L$是$K$上的代数元, 有极小多项式$m(x)\in K[x]$, 那么$K(\alpha)\simeq K[x]/\langle m(x)\rangle$, 其中$\langle m(x)\rangle$是$p(x)$生成的理想.
\end{lem}
\begin{proof}
    定义同态
    \begin{align*}
        \varphi:K[x]&\to K(\alpha)\\
        p(x)&\mapsto p(\alpha)
    \end{align*}
    考虑核$\ker\varphi$, 显然$\ker\varphi\neq K[x]$, 且极小多项式$m(x)\in\ker\varphi$.
    由于$K[x]$是主理想整环, $\ker\varphi$单生成, 且生成元整除$m(x)$.
    但容易证明$m(x)$是不可约多项式, 结合$\ker\varphi\neq K[x]$可知生成元与$m(x)$相伴, 从而$\ker\varphi=\langle m(x)\rangle$.
    由第一同构定理即知
    \[K(\alpha)\simeq \frac{K[x]}{\langle m(x)\rangle}\qedhere\]
\end{proof}

关于有限扩张与代数扩张, 有如下的结论
\begin{prop}
    设有域扩张$M/K$, $\alpha\in M$是$K$上的代数元当且仅当$\alpha$包含在$K$的一个有限扩张中.
\end{prop}
\begin{proof}
    一方面, 假设$\alpha$是代数元.
    设$\deg\alpha=n$, 那么$1,\alpha,\cdots,\alpha^{n-1}$是$K(\alpha)$的一组基, $K(\alpha)/K$是有限扩张.
    另一方面, 假设$\alpha$包含在$K$的有限扩张中, 不妨设$[M:K]=n<\infty$.
    那么$1,\alpha,\cdots,\alpha^{n-1},\alpha^n$一定线性相关, 从而$\alpha$是一个多项式的根, 是一个代数元.
\end{proof}

\begin{col}
    任意有限扩张都是代数扩张.
\end{col}

\begin{thm}[望远镜公式]\label{telescope}
    设$K\subset L\subset M$均为有限扩张, 那么有$[M:K]=[M:L][L:K]$
\end{thm}
\begin{proof}
    设$x_1,\cdots,x_m$是$L/K$的一组基, $y_1,\cdots,y_n$是$M/L$的一组基.
    我们考虑$\{x_iy_j\}_{(i,j)\subset [m]\times[n]}$\footnote{$[m]=\{1,\cdots,m\}$, 组合数学中的常用记号.}.
    首先对$a_{ij}\in K$及指标$(i,j)\in R\times S\subset [m]\times[n]$有
    \begin{align*}
        &\sum_{(i,j)\in R\times S}a_{ij}(x_iy_j)=0\\
        \implies&\sum_{j\in S}a_{ij}y_j=0,\ \forall i\in R\\
        \implies&a_{ij}=0,\ \forall (i,j)\in R\times S
    \end{align*}
    所以$x_iy_j$线性无关.
    其次, 显然$M$中的每个元素可以表示为$x_iy_j$的$K$--线性组合, 所以$\{x_iy_j\}_{(i,j)\subset [m]\times[n]}$是$M/L$的一组基.
    从而命题得证.
\end{proof}

通过望远镜公式, 我们可以证明
\begin{thm}
    设$\alpha,\beta$是$K$上的代数元, 那么$\alpha\pm\beta,\alpha\beta,\alpha/\beta(\beta\neq 0)$均为$K$上的代数元.
\end{thm}
\begin{proof}
    考虑扩张链$K\subset K(\alpha)\subset K(\alpha,\beta)$, 两个扩张均为代数扩张, 所以都是有限扩张.
    由定理~\ref{telescope}, $K(\alpha,\beta)/K$是代数扩张.
    而$\alpha\pm\beta,\alpha\beta,\alpha/\beta$均包含在$K(\alpha,\beta)$中, 所以都是代数元.
\end{proof}

\begin{thm}\label{algcoef}
    设$\alpha$是一个由$K$上代数元系数构成的多项式的根, 那么$\alpha$是代数的.
\end{thm}
\begin{proof}
    设
    \[\alpha^n+a_{n-1}\alpha^{n-1}+\cdots+a_0=0\]
    且$a_{n-1},\cdots,a_0$均为$K$上代数元.
    考虑域扩张链
    \begin{align*}
        K&\subset K(a_0)\\
        &\subset K(a_0,a_1)\\
        &\cdots\\
        &\subset K(a_0,\cdots,a_{n-1})\\
        &\subset K(a_0,\cdots,a_{n-1},\alpha)
    \end{align*}
    前$n$步扩张每一步都是添加一个代数元$a_i$, 所以都是有限的, 因此$K$上的扩域$K(a_0,\cdots,a_{n-1})$是有限的.
    而由假设, $\alpha$在$K(a_0,\cdots,a_{n-1})$上代数, 所以最后一步扩张也是有限的.
    因此扩张$K(a_0,\cdots,a_{n-1},\alpha)/K$是有限的, 从而$\alpha$是$K$上代数元.
\end{proof}

\begin{col}\label{alg of alg}
    假设$E/L,L/K$均为代数扩张, 那么$E/K$也是代数扩张.
\end{col}

\section{代数闭包与分裂域}

对于一个代数方程, 我们总希望能够找到一个域使得它``有根''.
而严格地描述这一点则需要定义\textit{分裂域}的概念.

\begin{defn}
    设$K$是域, $S\subset K[x]$, 如果扩域$L/K$使得$S$中的任意$p(x)$在$L$上可以分解为一次因式的乘积 (简称为$p(x)$在$L$中\textbf{分裂})
    \[p(x)=(x-\alpha_1)\cdots(x-\alpha_n)\]
    且$L$由$S$中多项式的根生成, 那么称$L$是$S$在$K$上的\textbf{分裂域}.
\end{defn}

为了更加方便地处理事情, 我们直接``添加域中所有多项式的根''.
这样就定义了\textit{代数闭包}.

\begin{defn}
    设$K$是域, $K$的\textbf{代数闭包}是$k[x]$的分裂域.
\end{defn}

我们期待的结果自然是
\begin{prop}\label{alg closure}
    任意域$K$的代数闭包存在.
\end{prop}

以及
\begin{thm}[同构延拓定理]\label{iso ext thm}
    设$K$是一个域, $S\subset K[x]$是一族多项式, $K'$与$K$同构且$S$在同构映射下的像为$S'$.
    设$E,E'$分别是$S,S'$的分裂域, 那么存在同构$S\to S'$使得下图交换
    \[\begin{tikzcd}
        E\ar[r, "\sim"] & E'\\
        K\ar[u] \ar[r, "\sim"] & K\ar[u]
    \end{tikzcd}\]
\end{thm}

代数闭包的存在性与同构延拓定理的证明较为复杂, 我们将其留在附录 \ref{proof of alg closure} 与 \ref{proof of iso ext thm} 中.

\begin{col}
    设$K$是域, $S\subset K[x]$, 那么$S$的分裂域存在.
\end{col}
\begin{proof}
    注意到$S$中的多项式均在$\overline{K}$中分裂, 那么取$R$为$S$中所有多项式根的集合, $K(R)\subset\overline{K}$即为$S$的分裂域.
\end{proof}

\begin{col}
    任意集合的分裂域在同构意义下唯一.
\end{col}

关于代数闭包, 有一个密切相关的概念是代数闭域:
\begin{defn}
    域$L$被称为是\textbf{代数闭域}, 如果$L[x]$中的任意多项式都在$L$中有根.
\end{defn}
\begin{prop}
    域$K$的代数闭包$\overline{K}$是代数闭域.
\end{prop}
\begin{proof}
    设$p(x)=x^n+a_{n-1}x^{n-1}+\cdots+a_0,\ a_i\in\overline{K}$.
    由于$\overline{K}$由$K[x]$中多项式的根生成, 因此$a_i$均为$K$上的代数元.
    对$p(x)$在某个根$\alpha$, 考虑扩张链
    \[K\subset K(a_0,\cdots,a_{n-1})\subset K(a_0,\cdots,a_{n-1},\alpha)\]
    容易发现两个扩张都是有限的, 所以$\alpha$也是$K$上的代数元, 从而在$\overline{K}$内.
    因此$\overline{K}$是代数闭域.
\end{proof}
这说明在$\overline{K}$中不仅$K[x]$中的多项式分裂, $\overline{K}[x]$中的多项式也分裂, 这是强于代数闭包的定义的.

\section{有限域}

我们在本节讨论元素个数有限的域, 也即\textbf{有限域}.

假设$F$是有限域, 那么$F$一定有正的特征$p>0$.
那么此时素域$\mathbb{F}_p\subset F$, $F$是$\mathbb{F}_p$上的向量空间.
如果$\dim_{\mathbb{F}_p}F=n$, 那么每个坐标分量有$p$种取法, 则$|F|=p^n$.
因此我们得到
\begin{prop}
    有限域$F$的阶为$p^n$, 其中$p=\ch{F}$是素数, $n=[F:\mathbb{F}_p]$.
\end{prop}

相同的论证我们可以得到
\begin{prop}\label{finite subfield}
    设$K,L$分别是$p^n,q^m$元域, 那么$K\subset L$当且仅当$p=q$且$n|m$.
\end{prop}

与分裂域一样, 我们也要讨论有限域的存在性与同构唯一性.

首先我们证明有限域的存在性.
\begin{thm}
    对素数$p$及$q=p^n$, 存在$q$阶有限域.
\end{thm}
\begin{proof}
    取$x^q-x$在$\mathbb{F}_p$上的一个分裂域$L$, 我们证明$L$恰好由$x^q-x$的所有根构成.
    我们先证明$x^q-x$的根构成一个域.
    对根$x,y$, 由$\ch L=p$可知$\binom{q}{k}=0,\ k=1,\cdots,q-1$, 从而
    \begin{align*}
        (x-y)^q&=x^q-y^q\quad(p=2\text{时}1=-1,\ \text{所以均写为减号})\\
        &=x-y
    \end{align*}
    所以$x-y$是$x^q-x$的一个根;
    而当$y\neq 0$时
    \begin{align*}
        \left(\frac{x}{y}\right)^q-\frac{x}{y}&=\frac{x^qy-xy^q}{y^{q+1}}\\
        &=\frac{xy-yx}{y^{q+1}}\\
        &=0
    \end{align*}
    所以$x/y$也是一个根.
    因此$x^q-x$的根在减法与除法下封闭, 构成一个域.
    由于分裂域由根生成, 所以$L$恰好由$x^q-x$的根构成.
    另一方面, 由于$(x^q-x)'=qx^{q-1}-1=-1$, 与$x^q-x$互素, 所以$x^q-x$没有重根\footnote{作为习题, 请证明$f(x)\in K[x]$是可分多项式当且仅当它的形式导数$f'(x)$与其互素.}.
    因此$|L|=\deg(x^q-x)=q$.
\end{proof}

然后我们证明有限域的唯一性.
\begin{thm}
    两个有限域同构当且仅当他们阶数相同.
\end{thm}
\begin{proof}
    设有限域$F$的阶数为$q$, 我们证明$F$一定是$x^q-x$的分裂域.
    这只需要证明对任意$a\in F$有$a^q=a$即可.
    $a=0$时这是平凡的.
    对$a\in F^*$, 由Lagrange定理, $a^{|F^*|}=1$, 即$a^{q-1}=1$, 从而$a^q=a$.
    因此$F$是$x^q-x$的分裂域, 在同构意义下是唯一的.
\end{proof}

最后我们证明有限域最重要的结论之一
\begin{thm}\label{single generate}
    有限域的乘法群是循环群.
\end{thm}

我们首先需要一个引理
\begin{lem}[多项式的Lagrange定理]
    设$f(x)\in k[x]$, $\deg f(x)=d$, 那么$f(x)=0$在$k$中至多有$d$个根.
\end{lem}
\begin{proof}
    对$d$用归纳法.
    当$d=1$时命题是显然的.
    假设命题对$d=n-1$成立, 那么此时$n$次多项式$f(x)$在$k$上要么没有根, 要么有一个根$\alpha$, 此时存在一个$n-1$次多项式$g(x)$使得$f(x)=(x-\alpha)g(x)$.
    而由归纳假设, $g(x)$至多有$n-1$个根, 所以$f(x)=(x-\alpha)g(x)$至多有$n$个根.
    由归纳原理知命题得证.
\end{proof}

\begin{proof}[定理~\ref{single generate}~的证明]
    设$k$是一个$q$元域, 那么它的乘法群$k^*$阶为$q-1$.
    设$m$是$k^*$中元素的最大值, 并设$\alpha$的阶为$m$.
    那么对任意$\beta\in k^*$, 设其阶为$d$, 则$\alpha\beta$的阶为$[m,d]\leq m$, 从而$d|m$.
    因此$\beta^m=1$, 方程$x^m-1$有至少$q-1$个根, 由多项式的Lagrange定理可知$m\geq q-1$.
    而由群的Lagrange定理知$m|q-1$, 所以$m=q-1$, 即$\langle\alpha\rangle=k^*$.
\end{proof}

\section{例题与习题}

\begin{eg}
    我们证明一个代数闭域一定有无穷多个元素.
    否则假设$K=\{a_1,\cdots,a_n\}$是代数闭域, 我们考察多项式
    \[(x-a_1)(x-a_2)\cdots(x-a_n)+1\]
    $K$中任意元素都不是它的根, 所以它不在$K$上分裂, 与$K$代数闭矛盾.
    因此代数闭域一定有无穷多个元素.
\end{eg}

\begin{eg}
    设$x$是$\mathbb{Q}$上的超越元, $u=x^3/(x+1)$, 我们求$[\mathbb{Q}(x):\mathbb{Q}(u)]$.
    注意到$x$满足$x^3-ux-u=0$, 所以$x$是$\mathbb{Q}(u)$上的代数元.
    断言$u$必然是超越元, 否则如果多项式$f(u)\in\mathbb{Q}[u]$是$u$的零化多项式, 设$\deg f=d$, 那么$(x+1)^df(x^3/(x+1))\in\mathbb{Q}[x]$便是$x$的零花多项式, 矛盾.
    又断言$t^3-ut-u\in\mathbb{Q}(u)[t]$是$x$的极小多项式, 只需要证明$t^3-ut-u$不可约.
    如果$t^3-ut-u$可约的话, 那么一定存在一个$f(u)/g(u)$作为它的根, 但此时有
    \[(f(u))^3-uf(u)(g(u))^2-(g(u))^3=0\]
    与$u$是超越元矛盾.
    因此$t^3-ut-u\in\mathbb{Q}(u)[t]$是$x$的极小多项式, 可以得到$[\mathbb{Q}(x):\mathbb{Q}(u)]=3$.
\end{eg}

\begin{eg}\label{sqrt(2)+sqrt(3)}
    我们证明$\mathbb{Q}(\sqrt{2},\sqrt{3})=\mathbb{Q}(\sqrt{2}+\sqrt{3})$.
    显然$\mathbb{Q}(\sqrt{2}+\sqrt{3})\subset\mathbb{Q}(\sqrt{2},\sqrt{3})$.
    而设$u=\sqrt{2}+\sqrt{3}$, 有$u^2=5+2\sqrt{6},(u^2-5)^2=24$.
    容易验证$(x^2-5)^2-24=x^4-10x^2+1$是不可约的四次多项式, 因此$u$的次数为$4$, 即$[\mathbb{Q}(\sqrt{2}+\sqrt{3}):\mathbb{Q}]=4$.
    而显然$[\mathbb{Q}[\sqrt{2},\sqrt{3}]:\mathbb{Q}]=4$, 所以$[\mathbb{Q}(\sqrt{2},\sqrt{3}),\mathbb{Q}(\sqrt{2}+\sqrt{3})]=1$, 即$\mathbb{Q}(\sqrt{2},\sqrt{3})=\mathbb{Q}(\sqrt{2}+\sqrt{3})$.
\end{eg}

\begin{eg}
    我们证明无限域的乘法群不是循环群.
    设$K$是无限域, 假设$K$的乘法群是循环群, 设$K^*=\langle a\rangle$.
    设$K$的素域为$k$, 那么$K=k(a)$.
    如果$K$的特征为$0$, 那么$k^*\simeq\mathbb{Q}^*$是$K^*$的子群, 从而$\mathbb{Q}^*$是循环群, 矛盾.
    如果$K$的特征为$p$, 此时$k\simeq\mathbb{F}_p$.
    考虑$a+a^2$, 一定有$a+a^2\in K=0\cup\langle a\rangle$, 即$a+a^2=0$或$a+a^2=a^m(m>2)$, 这说明$a$是代数元, $K=k(a)$是有限域, 矛盾.
    因此无限域的乘法群不能是循环群.
\end{eg}

\begin{eg}
    设$a,b\in\mathbb{F}_{2^n}$, $n$是奇数, 并且$a,b$满足$a^2+ab+b^2=0$, 我们证明$a=b=0$.
    事实上, 如果$a,b$其一为$0$也能推出另一个为$0$, 于是我们假设$a,b$均不为$0$.
    此时我们可以得到$(a/b)^2+(a/b)+1=0$, 设$a/b=\omega$, 那么$\omega^3=1$.
    由于$\mathbb{F}_{2^n}^*$是循环群, 我们设其由$u$生成.
    此时设$\omega=u^k$, 那么$1=\omega^3=u^{3k}$, 从而$2^n-1=3k$.
    但当$n$是奇数时有$2^n-1\equiv (-1)^n-1\equiv 1\pmod{3}$, 不可能有$2^n-1=3k$, 矛盾.
    所以$a,b$均为$0$.
\end{eg}

\begin{ex}
    设$L/K$是域扩张, $\alpha\in L$是$K$上的奇数次代数元, 证明$\alpha^2$也是$K$上的奇数次代数元, 且$K(\alpha)=K(\alpha^2)$.
\end{ex}

\begin{ex}
    设$\alpha,\beta$分别是域$K$上的$m,n$次代数元.
    \begin{enumerate}[(1)]
        \item 证明$[K(\alpha,\beta),K]\leq mn$;
        \item 当$(m,n)=1$时, 证明$[K(\alpha,\beta),K]=mn$.
    \end{enumerate}
\end{ex}

\begin{ex}
    构造一个$8$元域, 并给出它的加法表与乘法表.
\end{ex}